DROP TABLE IF EXISTS occasions;
DROP TABLE IF EXISTS votes;

CREATE TABLE occasions (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  username TEXT NOT NULL,
  title TEXT NOT NULL,
  photoOne TEXT NOT NULL,
  photoTwo TEXT NOT NULL,
  photoThree TEXT,
  postTime TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE votes (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  photoOneVotes INTEGER NOT NULL,
  photoTwoVotes INTEGER NOT NULL,
  photoThreeVotes INTEGER NOT NULL,
  occasion INTEGER REFERENCES occasions(id) ON DELETE SET NULL
);
